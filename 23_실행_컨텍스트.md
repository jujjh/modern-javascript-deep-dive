# 23. 실행 컨텍스트
## 23.1 소스코드의 타입
ECMAScript는 소스코드를 4가지 타입으로 구분하고 4가지 타입의 소스코드는 실행컨텍스트를 생성

|소스코드의 타입|설명|
|--|--|
|전역코드|전역에 존재하는 소스코드.<br>전역에 정의된 함수, 클래스 등 내부 코드 포함❌|
|함수코드|함수 내부에 존재하는 소스코드.<br>함수 내부에 중첩된 함수. 클래스 등의 내부 코드는 포함❌|
|eval 코드|빌트인 전역 함수인 eval 함수에 인수로 전달되어 실행되는 소스코드|
|모듈코드|모듈 내부에 존재하는 소스코드.<br>모듈 내부의 함수, 클래스 등의 내부 코드는 포함❌|

### 전역코드
- 전역 변수를 관리하기 위해 존재
- var로 선언된 전역 변수와 함수 선언문으로 정의된전역 함수를 전역 객체의 프로퍼티와 메서드로 바인딩하기위해 전역 객체로 연결
- 전역 코드가 평가되면 전역 실행 컨텍스트가 생성됨

### 함수코드
- 지역 스코프를 생성하고 지역변수, 매개변수, arguments 객체를 관리
- 생성한지역 스코프를 전역 스코프에서 시작하는 스코프 체인의 일원으로 연결
- 함수 코드가 평가되면 함수 실행 컨텍스트가 생성됨

### eval코드
- eval코드는 strict mode(엄격 모드)에서 자신만의 독자적인 스코프를 생성
- eval코드가 평가되면 eval 실행 컨텍스트가 생성됨

### 모듈모드
- 모듈별로 독립적인 모듈 스코프를 생성
- 모듈 코드가 평가되면 모듈 실행 컨텍스트가 생성

## 23.2 소스코드의 평가와 실행
자바스크립트 엔진은 소스코드를 '소스코드의 평가', '소스코드의 실행' 과정으로 나누어 처리한다.<br>

**소스평가 과정**에서 실행 컨텍스트를 생성하고 변수와 함수등의 선언문만 먼저 실행하여 변수와 함수 식별자를 키로 실행 컨텍스트가 관리하는 스코프(렉시컬 환경의 환경 레코드)에 등록.<br>
소스평가 과정이 끝나면 선언문을 제외한 **소스코드가 실행**되기 시작.<br>
소스코드 실행에 필요한 변수나 함수의 참조를 실행 컨텍스트가 관리하고 있는 스코프에서 검색하여 취득한다. 변수 값의 변경등 소스코드의 실행 결과는 다시 실행 컨텍스트가 관리하는 스코프에 등록됨

```
# 1
var a = 1;

# 2
var a;
a = 1;
```
`#1`은 `#2`처럼 2개의 과정으로 나누어 처리됨