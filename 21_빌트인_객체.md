# 21. 빌트인 객체
## 21.1 자바스크립트 객체의 분류
- **표준 빌트인 객체**<br>
  애플리케이션 전역의 공통 기능을 제공. 별도의 선언 없이 전역 변수처럼 언제나 참조할 수 있다.
- **호스트 객체**<br>
  자바스크립트 실행환경(브라우저 또는 node.js 환경)에서 추가로 제공하는 객체를 말함.<br>
  브라우저 환경에서는 DOM, BOM, Canvas 등 클라이언트 사이드 Web API를 호스트 객체로 제공하고 Node.js 환경에서는 Node.js의 API를 호스트 객체로 제공한다.
- **사용자 정의 객체**<br>
 사용자가 직접 정의한 객체

## 21.2 표준 빌트인 객체
Object, String, Number, Boolean, Symbol, Date, Math, RegExp, Array, Map/Set, WeakMap/WeakSet, Function, Promise, Reflect, Proxy, JSON, Error 등 표준 빌트인 객체를 제공한다.<br>
**Math, Reflect, JSON을 제외한 표준 빌트인 객체는 모두 인스턴스를 생성 할 수 있는 생성자 함수 객체다.** <br>
생성자 함수 객체인 표준 빌트인 객체는 프로토타임 메서드와 정적 메서드를 제공하고, 생성자 함수 객체가 아닌 표준 빌트인 객체는 정적 메서드만 제공한다.

## 21.3 원시값과 래퍼 객체
문자열, 숫자, 불리언 값에 대해 객체처럼 접근하면 생성되는 임시 객체를 래퍼 객체라고 한다.<br>
원시값에 대해 마침표 표기법으로 접근하면 그 순간 래퍼 객체인 생성자 함수의 인스턴스가 생성되고, 원시값은 래퍼 객체의 내부 슬롯에 할당 된다.
```
const str = 'hi~';

console.log(str.length); // 3
console.log(str.toUpperCase()); // HI~

console.log(typeof str); // string

```
이때 문자열 객체인 String 생성자 함수의 인스턴스는 String.prototype의 메서드를 상속받아 사용할 수 있다.<br>
그 후 래퍼 객체의 처리가 종료되면 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시값으로 식별자가 원시값을 갖도록 되돌리고 래퍼객체는 가비지 컬렉션의 대상이 된다.

```
const str = 'hi~';

// #1
// 식별자 str은 암묵적으로 생성된 래퍼객체를 가리킨다
// 식별자 str의 값 'hi~'는 래퍼객체의 [[StringData]] 내부 슬롯에 할당된다.
// 래퍼 객체에 name 프로퍼티가 동적 추가된다.
str.name = 'kim';

// #2
// 식별자 str은 다시 원래의 문자열. 래퍼 객체의 [[StringData]] 내부 슬롯에 할당된 원시값을 갖는다.
// 이때 #1에서 생성된 래퍼 객체는 아무도 참조하지 않는 상태이므로 가비지 컬렉션의 대상이 된다.
console.log(str.name) // undefined

// 식별자 str은 새롭게 암묵적으로 생성된(#1에서 생성된 래퍼 객체와 다른) 래퍼 객체를 가리킨다.
// 새로운 래퍼 객체에는 name프로퍼티가 존자 하지 않는다.
console.log(typeof str, str) // string, hi~
```
문자열, 숫자 , 불리언, 심벌은 암묵적으로 생성되는 래퍼 객체에 의해 마치 객체처럼 사용할 수 있다.<br>
표준 빌트인 객체인 문자열, 숫자 , 불리언, 심벌의 프로토타입 또는 프로퍼티를 참조할 수 있다.
**Sting, Number, Boolean 생성자 함수를 new 연산자와 함께 호출하여 인스턴스를 생성할 필요가 없으며, 권장하지 ❌(Symbol은 제외)**
이외에 null과 undefined는 래퍼 객체를 생성하지 않는다.

## 21.4 전역객체
전역 객체는 어떤 객체보다 가장 먼저 생성되는 최상위 객체다. 계층 구조상 어떤 객체에도 속하지 않는 모든 표준 빌트인 객체의 최상위 객체이다. 전역 객체 자신은 어떤 객체의 프로퍼티도 아니며 객체의 계층 구조상 표준 빌트인 객체와 호스트 객체를 프로퍼티로 소유한다는 것을 말한다.

**전역 객체 특징**
- 전역 객체는 개발자가 의도적으로 생성할 수 없고, 전역 객체를 생성할 수 있는 생성자 함수가 제공되지 않는다.
- 전역 객체의 프로퍼티를 참조할 때 window(this, global)를 생략할 수 있다.
- 모든 표준 빌트인 객체의 프로퍼티로 소유하고 있다.
- 자바스크립트의 실행 환경에 따라 추가적으로 프로퍼티와 메서드를 갖는다. 클라이언트 사이드 Web API를 호스트 객체로 제공하고 Node.js 환경에서는 Node.js 고유의 API를 호스트 객체로 제공한다.
- var로 선언된 전역 변수와 선언되지 않은 변수에 값을 할당한 암묵적 전역, 그리고 전역 함수는 전역 객체의 프로퍼티가 된다.
- let, const로 선언된 전역 변수는 전역 객체의 프로퍼티가 아니다.
- 브라우저 환경에서 모든 자바스크립트 코드는 하나의 전역 객체 window를 공유한다. 자바스크립트 코드를 분리해도 하나의 전역 객체 window를 공유하는 것은 변함이 없다.

### 21.4.1 빌트인 전역 프로퍼티
전역 객체의 프로퍼티를 의미함
- **Infinity :** 무한대를 나타내는 숫자값
- **NaN :** 숫자가 아님(Not-a-Number)을 나타내는 숫자값. 프로퍼티는 Number.NaN
- **undefined :** 원시 타입 undefined를 값으로 가짐.

### 21.4.2 빌트인 전역 함수
애플리케이션 전역에서 호출할 수 있는 빌트인 함수로서 전역 객체의 메서드.

#### eval
자바스크립트 코드를 나타내는 문자열을 인수로 전달 받음. <br>
전달받은 문자열 코드가 표현식이라면 문자열 코드를 런타임에 평가하여 값 생성.<br>
전달받은 인수가 문이라면 문자열 코드를 런타임에 실행. 여러개의 문으로 이루어져 있어도 모든 문을 실행함.<br>
eval 함수는 기존의 스코프를 런타임에 동적으로 수정한다. eval 함수에 전달 된 코드는 이미 그 위치에 존재하던 코드처럼 동작함.<br>
strict mode에서 기존 스코프를 수정하지 않고, eval함수 자신의 자체적인 스코프를 생성<br>
let, const 키워드를 사용한 변수 선언문이라면 암묵적으로 strict mode가 적용<br>
**가급적 eval함수의 사용 금지!**

#### isFinite
전달 받은 인수가 유한수 일때 `true`, 무한수 일때 `false`반환.<br>
숫자가 아닌 경우에는 숫자로 타입 변경 후 검사 수행하고 숫자로 변경시 `NaN`일때 `false`반환<br>
`isFinite(null)`은 `null`을 숫자로 변환하여 검사하기 때문에 `true`를 반환.

#### isNaN
인수가 `NaN`인지 검사하여 불리언 타입으로 반환.<br>
숫자가 아닌경우 `true`, 숫자 인경우 `false`로 반환한다.


#### parseFloat
전달 받은 인수를 부동 소수점 숫자로 해석하여 반환

#### parseInt
```
/**
 * @param {string} string - 변환 상대 값
 * @param {number} [radix] - 진법을 나타내는 기수(2~36, 기본값 10)
 * @returns {number} string - 변환 결과
 */
```
전달 받은 인수를 정수로 해석하여 반환.<br>
전달 받은 인수가 문자열이 아닐 때 정수로 해석하여 반환한다.<br>
두 번째 인수는 진법을 나타내는 기수를 전달한다. 두 번째 인수 생략시 10진수로 해석하여 반환한다.

#### encodeURI / decodeURI
`encodeURI` 함수는 완전한 URI를 문자열로 전달받아 이스케이프 처리를 위해 인코딩한다.<br>
`decodeURI` 함수는 인코딩 된 URI를 인수로 전달 받아 이스케이프 처리 이전으로 디코딩 한다.

#### encodeURIComponent / decodeURIComponent
`encodeURIComponent` URI를 인코딩한다.<br>
`encodeURI`은 쿼리스트링 구분자로 사용되는 =,?, &은 인코딩 하지 않고, `encodeURIComponent`는 =,?, &까지 인코딩한다.<br>
`decodeURIComponent` 인코딩된 URI를 이스케이프 처리 이전으로 디코딩 한다.


### 21.4.3 암묵적 전역
자바스크립트는 선언하지 않은 식별자에게 값을 할당하면 전역 객체에 프로퍼티를 동적 생성한다. 이런 현상을 **암묵적 전역**이라 한다.
이때 선언하지 않은 식별자는 변수가 아닌 전역 객체의 프로퍼티로 추가 되었을 뿐. 변수가 아니므로 호이스팅이 발생하지 않는다
```
console.log(a) // undefined
console.log(b) // ReferenceError: b is not defined

var a = 10;
function foo() {
  b = 30;
}

foo()
console.log(window.b) // 30

delete b; // 프로퍼티는 삭제 된다.

console.log(window.b) // undefined
```